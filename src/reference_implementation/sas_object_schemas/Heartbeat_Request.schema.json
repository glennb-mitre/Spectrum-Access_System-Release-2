{
  "title": "Heartbeat_Request JSON Schema",
  "$ref": "#/definitions/Heartbeat_Request",
  "definitions": {
    "Operation_State_Enum": {
      "title": "Operation_State_Enum",
      "description": "Defines the possible values of the required operationState parameter of a Heartbeat_Request object",
      "enum": [
        "AUTHORIZED",
        "GRANTED"
      ],
      "type": "string"
    },
    "Rcvd_Power_Meas_Report": {
      "title": "Rcvd_Power_Meas_Report",
      "description": "A data object containing information about the \"Recived Power\" measurement, a \"Measurement of the radio frequency\nenergy received over a set of frequency ranges during a measurement interval with results reported to a SAS for each\nof the frequency ranges in terms of effective received power for each frequency range.\"\n\nDefined in table 7.1-2 of section 7.1.1 and table 7.1-4 of section 7.1.2 of <2> as RcvdPowerMeasReport\n\n7.1.1: RECEIVED_POWER_WITHOUT_GRANT:\n    \"Semantics: Received Power can be measured and reported when the CBSD does\n    not have a spectrum grant from the SAS. If this measurement report capability is indicated by the SAS to the\n    CBSD, the CBSD performs and reports Received Power measurements over the entire CBRS band in segments that do not\n    exceed 10 MHz per measurement report. Those measurement reports are sent to the SAS in the first Spectrum Inquiry\n    Request message and first Grant Request message.\n\n    A given CBSD can include unsolicited (i.e., even if SAS did not send measReportConfig to CBSD) measReport object\n    in spectrumInquiryRequest object or grantRequest object, if the CBSD included measCapability parameter in\n    registrationRequest object to SAS with a value of RECEIVED_POWER_WITHOUT_GRANT.\n\n    A given CBSD must include measReport parameter in spectrumInquiryRequest object, if SAS included measReportConfig\n    parameter in registrationResponse object to CBSD.\"\n\n7.1.2: RECEIVED_POWER_WITH_GRANT:\n    \"Semantics: Received Power can be measured and reported when the CBSD has a\n    spectrum grant from the SAS. If this measurement report capability is indicated by the SAS to the CBSD,\n    the CBSD performs and reports Received Power measurements over one or more frequency ranges that do not exceed 10\n    MHz per measurement report. The measurement report(s) are sent to the SAS in the subsequent Heartbeat Request\n    message.\n\n    A given CBSD can include unsolicited (i.e., even if SAS did not send measReportConfig to CBSD) measReport object\n    in spectrumInquiryRequest or heartbeatRequest object, if the CBSD included measCapability parameter in\n    registrationRequest object to SAS with a value of RECEIVED_POWER_WITH_GRANT.\n\n    A given CBSD must include measReport parameter in the first heartbeatRequest object, if SAS included\n    measReportConfig parameter in either grantResponse or heartbeatResponse objects to CBSD.\"\n\nAll fields are required",
      "type": "object",
      "properties": {
        "measFrequency": {
          "title": "Measfrequency",
          "exclusiveMinimum": 0,
          "type": "integer"
        },
        "measBandwidth": {
          "title": "Measbandwidth",
          "exclusiveMinimum": 0,
          "type": "integer"
        },
        "measRcvdPower": {
          "title": "Measrcvdpower",
          "minimum": -100,
          "maximum": -25,
          "type": "number"
        }
      },
      "required": [
        "measFrequency",
        "measBandwidth",
        "measRcvdPower"
      ]
    },
    "Indoor_Loss_Technology_Type_Enum": {
      "title": "Indoor_Loss_Technology_Type_Enum",
      "description": "Contains the permitted values for the \"technologyType\" parameter of an Indoor_Loss_GNSS_Meas_Report object.\nDefined in table 7.2-2 of section 7.2.1 of <2>",
      "enum": [
        "GPS_L1",
        "GPS_L2",
        "GPS_L5",
        "GLONASS_G1",
        "GLONASS_G2",
        "GLONASS_G3",
        "GALILEO_E1",
        "GALILEO_E5A",
        "GALILEO_E5B",
        "GALILEO_E6",
        "BEIDOU_B1",
        "BEIDOU_B2",
        "BEIDOU_B3"
      ],
      "type": "string"
    },
    "Indoor_Loss_GNSS_Meas_Report": {
      "title": "Indoor_Loss_GNSS_Meas_Report",
      "description": "A data object containing information about the \"Indoor Loss\" measurement, a \"Measurement of indoor loss at physical\nlocation of CBSD. This indoor attenuation data will be sent to a SAS to provide power and frequency management of the CBSD\"\n\nDefined in table 7.2-2 of section 7.2.1 of <2>\n\n7.2.1: INDOOR_LOSS_USING_GNSS:\n    \"Semantics: A GNSS receiver along with its antenna, embedded inside a CBSD\n    measures received power levels at 1575.42 MHz. GNSS power levels outdoors are well regulated and are maintained\n    uniformly at -128.5 dBm into a 0 dBic antenna at ground level to 5 degrees elevation angle. By using an extremely\n    sensitive GPS L1 C/A code receiver, this method can measure indoor losses up to 46.5 dB.\n\n    This does not fulfill the requirement of Part 96.39(d) but can provide supplemental information to the SAS.\n\n    The indoor loss measurements are sent to the SAS upon request.\"\n\nAll fields are required.",
      "type": "object",
      "properties": {
        "indoorLoss": {
          "title": "Indoorloss",
          "minimum": 0,
          "maximum": 70,
          "type": "number"
        },
        "azimuthAngleWithGnss": {
          "title": "Azimuthanglewithgnss",
          "minimum": 0,
          "maximum": 359,
          "type": "integer"
        },
        "elevationAngleWithGnss": {
          "title": "Elevationanglewithgnss",
          "minimum": 0,
          "maximum": 90,
          "type": "integer"
        },
        "technologyType": {
          "$ref": "#/definitions/Indoor_Loss_Technology_Type_Enum"
        }
      },
      "required": [
        "indoorLoss",
        "azimuthAngleWithGnss",
        "elevationAngleWithGnss",
        "technologyType"
      ]
    },
    "Heartbeat_Request": {
      "title": "Heartbeat_Request",
      "description": "HeartbeatRequest object as defined in 10.7.1 of <1>",
      "type": "object",
      "properties": {
        "cbsdId": {
          "title": "Cbsdid",
          "type": "string"
        },
        "grantId": {
          "title": "Grantid",
          "type": "string"
        },
        "operationState": {
          "$ref": "#/definitions/Operation_State_Enum"
        },
        "grantRenew": {
          "title": "Grantrenew",
          "type": "boolean"
        },
        "measReport": {
          "title": "Measreport",
          "anyOf": [
            {
              "type": "array",
              "items": {
                "$ref": "#/definitions/Rcvd_Power_Meas_Report"
              }
            },
            {
              "type": "array",
              "items": {
                "$ref": "#/definitions/Indoor_Loss_GNSS_Meas_Report"
              }
            }
          ]
        }
      },
      "required": [
        "cbsdId",
        "grantId",
        "operationState"
      ]
    }
  }
}